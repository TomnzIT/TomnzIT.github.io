<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS Portfolio - John Doe</title>
    <style>
        :root {
            --primary-color: #ffffff;
            --background-color: #008080;
            --window-border: #c0c0c0;
            --taskbar-height: 40px;
        }

        /* Style du bureau */
        body {
            margin: 0;
            height: 100vh;
            background: var(--background-color) url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQIW2NkQAKrVq36zwjjgzhhYWGMYAEYB8RmROaABADeOQ8CXl/xfgAAAABJRU5ErkJggg==');
            font-family: 'MS Sans Serif', sans-serif;
            overflow: hidden;
        }

        /* Icônes du bureau */
        .desktop-icon {
            position: absolute;
            width: 80px;
            text-align: center;
            color: white;
            cursor: pointer;
            user-select: none;
        }

        .desktop-icon img {
            width: 48px;
            height: 48px;
            margin-bottom: 4px;
        }

        /* Fenêtres */
        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px solid;
            border-color: #ffffff #808080 #808080 #ffffff;
            min-width: 300px;
            min-height: 200px;
            resize: both;
            overflow: hidden;
        }

        .window-header {
            background: #000080;
            color: white;
            padding: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
        }

        .window-controls button {
            background: #c0c0c0;
            border: 2px solid;
            border-color: #ffffff #808080 #808080 #ffffff;
            margin-left: 2px;
            width: 20px;
            height: 20px;
        }

        /* Barre des tâches */
        #taskbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: var(--taskbar-height);
            background: #c0c0c0;
            border-top: 2px solid #ffffff;
            display: flex;
            align-items: center;
            padding: 0 8px;
        }

        /* Terminal spécifique */
        .terminal-body {
            background: black;
            color: lime;
            font-family: 'Courier New', monospace;
            padding: 8px;
            height: calc(100% - 24px);
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <!-- Icône du terminal -->
    <div class="desktop-icon" style="left: 20px; top: 20px;" onclick="openTerminal()">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABNklEQVRoge2ZMQ6CQBBF/4hWlhYWXoDee/AEXsDKY3gST2Bna2GhhY2JicZkWVhYWBh2Q2A3yLK6A8uGf0JgWfZnZv6fHWBgYGBg+CD8uT5kQcQdgC6AFoAKgCKAxVm0DmAFYAZgQkRjq1xE5PpQxAOAHoDqC3HWAAYAHlY5icj1oYgxgPYbY1cA2kQ0fTcXk4jI9aGICYDGC+OWABpENHOVi4hcH4qY4r6JlwAaRDR3nYuIXB+KmAGo3zC2BNAkoqWvXETk+lDEDEDtYkwJQImI1r5zEZHrQxHnJhYASjEzEZGvG2kOoHr2rAjgSETbEHIRkev1OAJQO/1fALCLlYeIXK/H6D9ERK7XY/QfIiLX6zH6DxGR6/UY/YeIyPV6jP5DROT6A3pS0idBQj1BAAAAAElFTkSuCorMII=" alt="Terminal">
        Terminal
    </div>

    <!-- Fenêtre du terminal -->
    <div id="terminal-window" class="window" style="left: 100px; top: 100px; display: none;">
        <div class="window-header">
            <span>Terminal</span>
            <div class="window-controls">
                <button onclick="minimizeWindow('terminal')">_</button>
                <button onclick="closeWindow('terminal')">✕</button>
            </div>
        </div>
        <div class="terminal-body">
            <div id="output"></div>
            <div class="input-container">
                <span style="color: lime;">C:\></span>
                <input type="text" id="command-input" style="background: black; border: none; color: lime; outline: none;">
            </div>
        </div>
    </div>

    <!-- Barre des tâches -->
    <div id="taskbar">
        <button onclick="openTerminal()">Terminal</button>
    </div>

    <script>
        // Gestion des fenêtres
        let activeWindow = null;
        const windows = {};

        function openTerminal() {
            const window = document.getElementById('terminal-window');
            window.style.display = 'block';
            bringToFront(window);
            initTerminal();
        }

        function closeWindow(type) {
            document.getElementById(`${type}-window`).style.display = 'none';
        }

        function bringToFront(element) {
            [...document.querySelectorAll('.window')].forEach(w => 
                w.style.zIndex = 0
            );
            element.style.zIndex = 1;
        }

        // Système de fenêtres glissantes
        document.querySelectorAll('.window').forEach(window => {
            let isDragging = false;
            let offset = [0,0];
            
            window.querySelector('.window-header').addEventListener('mousedown', e => {
                isDragging = true;
                offset = [
                    window.offsetLeft - e.clientX,
                    window.offsetTop - e.clientY
                ];
                bringToFront(window);
            });

            document.addEventListener('mousemove', e => {
                if (isDragging) {
                    window.style.left = (e.clientX + offset[0]) + 'px';
                    window.style.top  = (e.clientY + offset[1]) + 'px';
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        });

        // Terminal fonctionnel
        function initTerminal() {
            const output = document.getElementById('output');
            const input = document.getElementById('command-input');

            const commands = {
                help: () => 'Commandes disponibles: help, clear, cv, projects',
                clear: () => { output.innerHTML = ''; return ''; },
                cv: () => window.open('cv.pdf', '_blank'),
                projects: () => 'Projets:\n- Portfolio (React)\n- Système OS Web'
            };

            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const command = input.value.trim().toLowerCase();
                    input.value = '';
                    
                    let result = 'Commande non reconnue. Tapez "help" pour la liste';
                    if (commands[command]) {
                        result = commands[command]();
                    }
                    
                    if (typeof result === 'string') {
                        output.innerHTML += `C:\\> ${command}\n${result}\n`;
                        output.scrollTop = output.scrollHeight;
                    }
                }
            });
        }
    </script>
</body>
</html>