<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Portfolio - John Doe</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #1a1a1a;
            font-family: "Fira Code", monospace;
            color: #00ff00;
            min-height: 100vh;
        }

        #terminal {
            max-width: 800px;
            margin: 0 auto;
            background-color: #000000;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.1);
        }

        #output {
            margin-bottom: 15px;
            white-space: pre-wrap;
            line-height: 1.5;
        }

        .input-container {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        #prompt {
            color: #00ff00;
            white-space: nowrap;
        }

        #user-input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: inherit;
            font-family: inherit;
            font-size: 1em;
            outline: none;
            caret-color: #00ff00;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .cmd-error { color: #ff0000; }
        .cmd-success { color: #00ff00; }
        .file-dir { color: #87ceeb; }
        .file-exe { color: #ff69b4; }
        .highlight { color: #ffff00; }

        @keyframes blink {
            50% { border-color: transparent; }
        }
    </style>
</head>
<body>
    <div id="terminal">
        <div id="output">Bienvenue sur le terminal portfolio de John Doe!
Tapez 'help' pour la liste des commandes disponibles
        </div>
        <div class="input-container">
            <span id="prompt">john@portfolio:~$</span>
            <div id="user-input" contenteditable="true"></div>
        </div>
    </div>

    <script>
        const commands = {
            'help': {
                desc: 'Affiche cette aide',
                execute: () => Object.entries(commands)
                    .map(([cmd, obj]) => `âžœ ${cmd.padEnd(12)} ${obj.desc}`)
                    .join('\n')
            },
            'whoami': {
                desc: 'Affiche des informations personnelles',
                execute: () => `John Doe\nDÃ©veloppeur Fullstack & Security Engineer\nExpÃ©rience: 5 ans`
            },
            'about': {
                desc: 'Affiche le profil professionnel',
                execute: () => `PassionnÃ© par le dÃ©veloppement sÃ©curisÃ© et les systÃ¨mes Linux.\nCompÃ©tences en Python, JS, sÃ©curitÃ© rÃ©seau et architecture cloud.`
            },
            'skills': {
                desc: 'Liste des compÃ©tences techniques',
                execute: () => [
                    'âž¤ Langages: Python, JavaScript, C++, Rust',
                    'âž¤ SÃ©curitÃ©: Pentesting, Hardening, Cryptographie',
                    'âž¤ DevOps: Docker, Kubernetes, CI/CD',
                    'âž¤ Cloud: AWS, GCP, OpenStack'
                ].join('\n')
            },
            'education': {
                desc: 'Parcours acadÃ©mique',
                execute: () => [
                    '2020 - Master en SÃ©curitÃ© Informatique - ENSI',
                    '2018 - Licence en Informatique - UniversitÃ© Paris-Saclay'
                ].join('\n')
            },
            'experience': {
                desc: 'ExpÃ©rience professionnelle',
                execute: () => [
                    '2022-PrÃ©sent: Lead DevSecOps - SociÃ©tÃ© GÃ©nÃ©rale',
                    'â€¢ Mise en place pipeline CI/CD sÃ©curisÃ©',
                    'â€¢ Audit de sÃ©curitÃ© applications critiques',
                    '\n2020-2022: DÃ©veloppeur Backend - StartupX',
                    'â€¢ DÃ©veloppement API sÃ©curisÃ©es'
                ].join('\n')
            },
            'contact': {
                desc: 'Informations de contact',
                execute: () => [
                    'Email: john.doe@protonmail.com',
                    'GitHub: github.com/johndoe-dev',
                    'LinkedIn: linkedin.com/in/johndoe-dev',
                    '\nPour les offres sÃ©rieuses: contactez-moi par email'
                ].join('\n')
            },
            'clear': {
                desc: 'Nettoie le terminal',
                execute: (output) => { output.innerHTML = ''; return ''; }
            },
            'sudo': {
                desc: 'Obtenir des privilÃ¨ges admin ðŸ˜‰',
                execute: () => `Nice try! Mais vous pouvez toujours m'offrir un poste ðŸ˜Š`
            },
            'date': {
                desc: 'Affiche la date actuelle',
                execute: () => new Date().toLocaleString()
            },
            'repo': {
                desc: 'Lien vers le code source',
                execute: () => window.open('https://github.com/johndoe-dev/terminal-portfolio', '_blank')
            }
        };

        class Terminal {
            constructor() {
                this.output = document.getElementById('output');
                this.userInput = document.getElementById('user-input');
                this.prompt = document.getElementById('prompt');
                this.history = [];
                this.historyIndex = -1;
                this.currentDir = '~';

                this.init();
            }

            init() {
                this.userInput.focus();
                this.userInput.addEventListener('keydown', this.handleInput.bind(this));
                this.addSystemMessage("Bienvenue! Tapez 'help' pour commencer");
            }

            handleInput(e) {
                if(e.key === 'Enter') {
                    e.preventDefault();
                    const cmd = this.userInput.textContent.trim();
                    if(!cmd) return;

                    this.history.push(cmd);
                    this.historyIndex = this.history.length;
                    this.addCommandLine(cmd);
                    this.processCommand(cmd);
                    this.userInput.textContent = '';
                }
                else if(e.key === 'ArrowUp') {
                    e.preventDefault();
                    if(this.history.length === 0) return;
                    this.historyIndex = Math.max(0, this.historyIndex - 1);
                    this.userInput.textContent = this.history[this.historyIndex];
                }
                else if(e.key === 'ArrowDown') {
                    e.preventDefault();
                    this.historyIndex = Math.min(this.history.length, this.historyIndex + 1);
                    this.userInput.textContent = this.history[this.historyIndex] || '';
                }
                else if(e.key === 'Tab') {
                    e.preventDefault();
                    const input = this.userInput.textContent.trim();
                    const matches = Object.keys(commands).filter(c => c.startsWith(input));
                    if(matches.length === 1) {
                        this.userInput.textContent = matches[0];
                    }
                }
            }

            addCommandLine(cmd) {
                const div = document.createElement('div');
                div.innerHTML = `<span class="file-exe">${this.prompt.textContent}</span> ${cmd}`;
                this.output.appendChild(div);
            }

            addSystemMessage(text) {
                const div = document.createElement('div');
                div.className = 'cmd-success';
                div.textContent = text;
                this.output.appendChild(div);
                this.scrollToBottom();
            }

            processCommand(cmd) {
                const [baseCmd, ...args] = cmd.split(' ');
                const command = commands[baseCmd];

                if(!command) {
                    this.showError(`Commande non trouvÃ©e: ${baseCmd}`);
                    return;
                }

                try {
                    const result = command.execute(args, this.output);
                    if(typeof result === 'string') {
                        this.addSystemMessage(result);
                    }
                } catch(err) {
                    this.showError(`Erreur d'exÃ©cution: ${err.message}`);
                }

                this.scrollToBottom();
            }

            showError(text) {
                const div = document.createElement('div');
                div.className = 'cmd-error';
                div.textContent = text;
                this.output.appendChild(div);
                this.scrollToBottom();
            }

            scrollToBottom() {
                this.output.parentElement.scrollTop = this.output.parentElement.scrollHeight;
            }
        }

        // Initialisation
        window.onload = () => new Terminal();
    </script>
</body>
</html>